{
  "hash": "ecc317805fea524dc86b5c02162fade6",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"One page reveiw\"\nsubtitle: \"with whiskynote.be data\"\nauthor: \"Tony Duan\"\n\nexecute:\n  warning: false\n  error: false\n\nformat:\n  html:\n    toc: true\n    toc-location: right\n    code-fold: show\n    code-tools: true\n    number-sections: true\n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n---\n\n::: {#7ac773a2 .cell execution_count=1}\n``` {.python .cell-code}\nimport requests\nimport os\nfrom bs4 import BeautifulSoup\nimport pandas as pd\nimport time\n```\n:::\n\n\n::: {#ee598d45 .cell execution_count=2}\n``` {.python .cell-code}\nos.system('pip show beautifulsoup4')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nName: beautifulsoup4\nVersion: 4.13.3\nSummary: Screen-scraping library\nHome-page: https://www.crummy.com/software/BeautifulSoup/bs4/\nAuthor: \nAuthor-email: Leonard Richardson <leonardr@segfault.org>\nLicense: MIT License\nLocation: /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages\nRequires: soupsieve, typing-extensions\nRequired-by: nbconvert\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n0\n```\n:::\n:::\n\n\nWeb scraping on www.whiskynotes.be\n\n# review page\n\n\n![](images/clipboard-714698276.png){width=\"441\"}\n\n::: {#30cc09ca .cell execution_count=3}\n``` {.python .cell-code}\nreview_url='https://www.whiskynotes.be/2024/ardbeg/spheric-spirits-springbank-blended-malt-islay-malt/'\n```\n:::\n\n\n# read in html\n\n::: {#23c55703 .cell execution_count=4}\n``` {.python .cell-code}\n# Send an HTTP GET request to the website\nheaders = {'User-Agent': 'My User Agent'}\nresponse = requests.get(review_url,headers=headers)\n```\n:::\n\n\n::: {#2210bb31 .cell execution_count=5}\n``` {.python .cell-code}\n# success code - 200 \nprint(response) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<Response [200]>\n```\n:::\n:::\n\n\n::: {#e253c86d .cell execution_count=6}\n``` {.python .cell-code}\n#print(response.content)\n```\n:::\n\n\n::: {#c58de164 .cell execution_count=7}\n``` {.python .cell-code}\n# Parse the HTML code using BeautifulSoup\nsoup = BeautifulSoup(response.content, 'html.parser')\n```\n:::\n\n\n::: {#6e010bc9 .cell execution_count=8}\n``` {.python .cell-code}\n#print(soup.prettify())\n```\n:::\n\n\n::: {#4d4b7010 .cell execution_count=9}\n``` {.python .cell-code}\nsoup.title\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\n<title>Spheric Spirits: Springbank / Blended Malt / Islay Malt</title>\n```\n:::\n:::\n\n\n::: {#d86cc187 .cell execution_count=10}\n``` {.python .cell-code}\nsoup.p\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```\n<p><strong>Spheric Spirits</strong> is a young indie bottler from Germany, started by Benedict and Claudio. They have a slightly edgy / flashy branding (check <a href=\"https://sphericspirits.com/\" rel=\"noopener\" target=\"_blank\">the website</a>) – I like the vibrant colours on the labels but apparently not everything agrees. Besides whisky, they’re also looking at armagnac and <em>destilado de agave</em>. They’re not just bottlers, by the way, they like to get involved at the beginning of production.</p>\n```\n:::\n:::\n\n\n::: {#9283383e .cell execution_count=11}\n``` {.python .cell-code}\nsoup.find_all('.entry-content h2')\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```\n[]\n```\n:::\n:::\n\n\n# take picture of url\n\n\n\n\n\n# bottle_name\n\n::: {#4a629acd .cell execution_count=12}\n``` {.python .cell-code}\nbottle_name=soup.find_all('h2',class_=\"product-main__name\")\nbottle_name\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```\n[<h2 class=\"product-main__name\">Blended Malt 44 yo 1978 (59,8%, Spheric Spirits 2023, refill sherry butt #6, 331 btl.)</h2>,\n <h2 class=\"product-main__name\">Springbank 27 yo 1994 (47,1%, Spheric Spirits 2022, refill sherry hogshead #95, 241 btl.)</h2>,\n <h2 class=\"product-main__name\">Islay Malt 25 yo (48,4%, Spheric Spirits 2022, 407 btl.)</h2>]\n```\n:::\n:::\n\n\n::: {#62d791ef .cell execution_count=13}\n``` {.python .cell-code}\nbottle_name2=[]\n\nfor i in bottle_name:\n  name=i.text\n  bottle_name2.append(name)\n\nbottle_name2\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n```\n['Blended Malt 44 yo 1978 (59,8%, Spheric Spirits 2023, refill sherry butt #6, 331 btl.)',\n 'Springbank 27 yo 1994 (47,1%, Spheric Spirits 2022, refill sherry hogshead #95, 241 btl.)',\n 'Islay Malt 25 yo (48,4%, Spheric Spirits 2022, 407 btl.)']\n```\n:::\n:::\n\n\n# bottle_review\n\n\n\n# bottle_review_Nose\n\n\n# bottle_review_Mouth\n\n\n# bottle_review_Finish\n\n\n# first score\n\n\n\n# all other score\n\n\n\n# combine all score\n\n\n# page_published_date\n\n\n# page_class\n\n\n# page_title\n\n\n\n# combine all one_page_review\n\n\n\n# output\n\n",
    "supporting": [
      "2 whiskynote one page_files"
    ],
    "filters": [],
    "includes": {}
  }
}